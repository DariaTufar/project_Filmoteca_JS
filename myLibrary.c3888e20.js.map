{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0EASeC,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,4FAEU,EAAAC,EAAAC,c,sDAENC,QAAQC,MAAKC,EAAAC,I,yDAJEC,MAAAC,KAAAC,U,UASJC,I,OAAAA,EAAfb,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAA6BW,G,qEACZA,EAAMC,OACTC,QAAQ,SAAQ,C,uDAG5B,EAAAC,EAAAC,aAAYC,EAAAC,KAAKC,S,mBAET,EAAAC,EAAAC,gB,uDAENjB,QAAQC,MAAKC,EAAAC,I,0BAEb,EAAAQ,EAAAO,aAAYL,EAAAC,KAAKC,S,6EAXOX,MAAAC,KAAAC,U,CAb5BO,EAAAC,KAAKK,OAAOC,iBAAiB,S,SAaAZ,G,OAAdD,EAAaH,MAAAC,KAAAC,U,eATbb,EAAIW,MAAAC,KAAAC,U,CADnBe,GCRA9B,EAAAC,EAAA,S,aAAA,I,4EAQe8B,I,OAAAA,EAAf5B,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAA8BW,G,IACtBC,EACAc,EAIAC,EAI0CC,EAAtCC,EAAWC,EAAUC,E,qEATzBnB,EAASD,EAAMC,OACfc,EAAcd,EAAOC,QAAQ,kBACnB,C,uDAGVc,EAAKD,EAAYM,QAAQC,Q,kBAIuBC,EAAAC,WAAWC,SAAS,CACtEC,OAAQC,EAAAC,KAAKC,IACbC,QAASd,I,OAFmCC,EAG5CvB,EAAAqC,KAHMb,EAAsCD,EAAtCC,UAAWC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,aAI7BG,EAAAC,WAAWQ,YAAc,CACvBN,OAAQC,EAAAC,KAAKC,IACbX,YACAC,WACAC,iBAIF,EAAAa,EAAAC,WAAUd,EAAc,CACtBe,SAAUf,EAAaJ,GACvBoB,QAAS,qCAEX,EAAA5B,EAAA6B,mB,kDAEA7C,QAAQC,MAAKC,EAAAC,I,2DA5BYC,MAAAC,KAAAC,U,CAF7BO,EAAAC,KAAKgC,QAAQ1B,iBAAiB,S,SAEAZ,G,OAAfc,EAAclB,MAAAC,KAAAC,U","sources":["src/js/myLibrary/manageFilters.js","src/js/myLibrary/manageGallery.js"],"sourcesContent":["import { renderMovies } from './firebaseHelpers';\nimport { initGenres } from './genres';\nimport { refs } from './refs';\nimport { showSpinner, hideSpinner } from '../spinner';\n\nrefs.filter.addEventListener('click', onFilterClick);\n\n// Initial render\ninit();\nasync function init() {\n  try {\n    await initGenres();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// ====================\nasync function onFilterClick(event) {\n  const target = event.target;\n  if (!target.closest('input')) {\n    return;\n  }\n  showSpinner(refs.spinner);\n  try {\n    await renderMovies();\n  } catch (error) {\n    console.error(error);\n  } finally {\n    hideSpinner(refs.spinner);\n  }\n}\n","import { openModal } from '../modalCardHelpers';\nimport { refs } from './refs';\nimport { dbFirebase } from './firebaseDB';\nimport { user } from './manageAuth';\nimport { updateBtnStatus } from './firebaseHelpers';\n\nrefs.gallery.addEventListener('click', onGalleryClick);\n\nasync function onGalleryClick(event) {\n  const target = event.target;\n  const movieCardEl = target.closest('.gallery__item');\n  if (!movieCardEl) {\n    return;\n  }\n  const id = movieCardEl.dataset.movieid;\n\n  try {\n    //  ========= cache movie ===========\n    const { isWatched, isQueued, movieDetails } = await dbFirebase.getMovie({\n      userId: user.uid,\n      movieId: id,\n    });\n    dbFirebase.cachedMovie = {\n      userId: user.uid,\n      isWatched,\n      isQueued,\n      movieDetails,\n    };\n\n    // ========= open modal ===========\n    openModal(movieDetails, {\n      movie_id: movieDetails.id,\n      fotoUrl: 'https://image.tmdb.org/t/p/w500',\n    });\n    updateBtnStatus();\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$27e79e578f2ea179$var$_init","$parcel$interopDefault","$2TvXO","mark","_callee","$66NcD","initGenres","console","error","_ctx","t0","apply","this","arguments","$27e79e578f2ea179$var$_onFilterClick","event","target","closest","$j1lrD","showSpinner","$3V0Mm","refs","spinner","$4lZAI","renderMovies","hideSpinner","filter","addEventListener","$27e79e578f2ea179$var$init","$20ef0f26d9cc471c$var$_onGalleryClick","movieCardEl","id","ref","isWatched","isQueued","movieDetails","dataset","movieid","$bPhZY","dbFirebase","getMovie","userId","$1g6CO","user","uid","movieId","sent","cachedMovie","$9NMJY","openModal","movie_id","fotoUrl","updateBtnStatus","gallery"],"version":3,"file":"myLibrary.c3888e20.js.map"}