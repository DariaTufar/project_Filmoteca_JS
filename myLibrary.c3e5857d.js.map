{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAKAC,EAAAC,KAAKC,OAAOC,iBAAiB,SAa7BC,eAA6BC,GAE3B,IADeA,EAAMC,OACTC,QAAQ,SAClB,QAEF,EAAAC,EAAAC,aAAYT,EAAAC,KAAKS,SACjB,UACQ,EAAAZ,EAAAa,e,CACN,MAAOC,GACPC,QAAQD,MAAMA,E,CACf,SACC,EAAAJ,EAAAM,aAAYd,EAAAC,KAAKS,Q,KApBrBN,iBACE,UACQ,EAAAW,EAAAC,a,CACN,MAAOJ,GACPC,QAAQD,MAAMA,E,EALlBK,GCRA,IAAAC,EAAAnB,EAAA,S,sDAMAC,EAAAC,KAAKkB,QAAQhB,iBAAiB,SAE9BC,eAA8BC,GAC5B,MACMe,EADSf,EAAMC,OACMC,QAAQ,kBACnC,IAAKa,EACH,OAEF,MAAMC,EAAKD,EAAYE,QAAQC,QAE/B,IAEE,MAAMC,UAAEA,EAASC,SAAEA,EAAQC,aAAEA,SAAuBC,EAAAC,WAAWC,SAAS,CACtEC,OAAQC,EAAAC,KAAKC,IACbC,QAASb,IAEXM,EAAAC,WAAWO,YAAc,CACvBL,OAAQC,EAAAC,KAAKC,I,UACbT,E,SACAC,E,aACAC,IAIF,EAAAR,EAAAkB,WAAUV,EAAc,CACtBW,SAAUX,EAAaL,GACvBiB,QAAS,qCAEX,EAAAxC,EAAAyC,kB,CACA,MAAO3B,GACPC,QAAQD,MAAMA,E","sources":["src/js/myLibrary/manageFilters.js","src/js/myLibrary/manageGallery.js"],"sourcesContent":["import { renderMovies } from './firebaseHelpers';\nimport { initGenres } from './genres';\nimport { refs } from './refs';\nimport { showSpinner, hideSpinner } from '../spinner';\n\nrefs.filter.addEventListener('click', onFilterClick);\n\n// Initial render\ninit();\nasync function init() {\n  try {\n    await initGenres();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// ====================\nasync function onFilterClick(event) {\n  const target = event.target;\n  if (!target.closest('input')) {\n    return;\n  }\n  showSpinner(refs.spinner);\n  try {\n    await renderMovies();\n  } catch (error) {\n    console.error(error);\n  } finally {\n    hideSpinner(refs.spinner);\n  }\n}\n","import { openModal } from '../modalCardHelpers';\nimport { refs } from './refs';\nimport { dbFirebase } from './firebaseDB';\nimport { user } from './manageAuth';\nimport { updateBtnStatus } from './firebaseHelpers';\n\nrefs.gallery.addEventListener('click', onGalleryClick);\n\nasync function onGalleryClick(event) {\n  const target = event.target;\n  const movieCardEl = target.closest('.gallery__item');\n  if (!movieCardEl) {\n    return;\n  }\n  const id = movieCardEl.dataset.movieid;\n\n  try {\n    //  ========= cache movie ===========\n    const { isWatched, isQueued, movieDetails } = await dbFirebase.getMovie({\n      userId: user.uid,\n      movieId: id,\n    });\n    dbFirebase.cachedMovie = {\n      userId: user.uid,\n      isWatched,\n      isQueued,\n      movieDetails,\n    };\n\n    // ========= open modal ===========\n    openModal(movieDetails, {\n      movie_id: movieDetails.id,\n      fotoUrl: 'https://image.tmdb.org/t/p/w500',\n    });\n    updateBtnStatus();\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["$clyQT","parcelRequire","$kPAA9","refs","filter","addEventListener","async","event","target","closest","$04jNI","showSpinner","spinner","renderMovies","error","console","hideSpinner","$i2O9m","initGenres","$c8caacaa69b95b56$var$init","$ibusF","gallery","movieCardEl","id","dataset","movieid","isWatched","isQueued","movieDetails","$gJRQ6","dbFirebase","getMovie","userId","$5jXsB","user","uid","movieId","cachedMovie","openModal","movie_id","fotoUrl","updateBtnStatus"],"version":3,"file":"myLibrary.c3e5857d.js.map"}