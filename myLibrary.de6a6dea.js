function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));var s=o("2dqxC"),r=o("85EYF"),a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){u.default(e,t),t.add(e)};var d,u=(d=o("7K24o"))&&d.__esModule?d:{default:d};var c=o("iJYdK"),v=new WeakSet,f=new WeakSet;function p(){let e=localStorage.getItem(this.KEY);if(!e)return null;try{return e=JSON.parse(e),Array.isArray(e)?e:null}catch(e){return null}}function h(e){try{return localStorage.setItem(this.KEY,JSON.stringify(e)),!0}catch(e){return!1}}var m=o("krGWQ");const g=new(0,r.default),_=new class{addMovie({id:t,isQueued:i,isWatched:n,movieDetails:o}){if(!t)return null;if(void 0===n&&void 0===i)return null;void 0!==i?n=!i:i=!n;const s={id:String(t),isWatched:n,isQueued:i,movieDetails:o};let r=e(a)(this,v,p).call(this);r||(r=[]);const l=r.find((e=>String(e.id)===String(t)));if(l)l.isQueued=i,l.isWatched=n,o&&(l.movieDetails=o);else{if(!o)return null;r.push(s)}return e(a)(this,f,h).call(this,r)?l:null}removeMovie({id:t}){const i=e(a)(this,v,p).call(this);if(!i)return null;const n=i.findIndex((e=>String(e.id)===String(t))),o=i.splice(n,1);return e(a)(this,f,h).call(this,i)?o:null}getMovie({id:t}){const i=e(a)(this,v,p).call(this);if(!i)return null;const n=i.find((e=>String(e.id)===String(t)));return null!=n?n:null}getMovies({isWatched:t,isQueued:i}){let n=[];const o=e(a)(this,v,p).call(this);if(!o)return n;if(void 0===t&&void 0===i)return o;if(t){const e=o.filter((e=>e.isWatched));e&&(n=[...n,...e])}if(i){const e=o.filter((e=>e.isQueued));e&&(n=[...n,...e])}return n}constructor(){e(l)(this,v),e(l)(this,f),e(c)(this,"KEY","movies")}};let y,w=[];const b=document.querySelector(".js-filter-my-library"),M=m.refs.galleryList,D=document.querySelector(".js-movie-modal");function E(e){e.target.closest("input")&&T()}function S(e){const t=e.target.closest(".gallery__item");if(!t)return;!function(e){y=_.getMovie({id:e});const t=function({title:e,vote_count:t,vote_average:i,popularity:n,original_title:o,overview:s},r){return`<div class="modal_description">\n    <h1 class="movie_title">${e}</h1>\n    <ul>\n        <li class="movie_description">Vote / Votes<span class="movie_vote">${t}</span>\n        <span class="movie_description">${i}</span></li>\n        <li class="movie_description">Popularity<span class="movie_value">${n}</span></li>\n        <li class="movie_description">Original Title<span class="movie_value">${o}</span></li>\n        <li class="movie_description">Genre<span class="movie_value">${Object(r.name)}</span></li>\n    </ul>\n    <h2></h2>\n    <p class="about-text">${s}</p>\n\n    <button>ADD TO WATCHED</button>\n    <button>ADD TO QUEUE</button>\n  </div>`}(y.movieDetails,w);D.innerHTML=t,D.classList.add("active")}(t.dataset.movieid)}function j(e){const t=e.target;t.closest(".modal_description")||D.classList.remove("active"),"BUTTON"===t.nodeName&&(y.isWatched?(y.isQueued=!0,y.isWatched=!1):(y.isQueued=!1,y.isWatched=!0),_.addMovie(y),T())}function T(){const e=new FormData(b).get("filter"),t=_.getMovies({[e]:!0}).map((e=>e.movieDetails)),i=(0,s.markupMovieCards)(t,w).join("");M.innerHTML=i}!async function(){b.addEventListener("click",E),M.addEventListener("click",S),D.addEventListener("click",j);try{w=await g.getGenres()}catch(e){}(function(){const e={adult:!1,backdrop_path:"/bQXAqRx2Fgc46uCVWgoPz5L5Dtr.jpg",id:1,title:"Black Adam",original_language:"en",original_title:"Black Adam",overview:"Nearly 5,000 years after he was bestowed with the almighty powers of the Egyptian gods—and imprisoned just as quickly—Black Adam is freed from his earthly tomb, ready to unleash his unique form of justice on the modern world.",poster_path:"/3zXceNTtyj5FLjwQXuPvLYK5YYL.jpg",media_type:"movie",genre_ids:[28,14,878],popularity:4085.77,release_date:"2022-10-19",video:!1,vote_average:6.937,vote_count:803};for(let t=0;t<6;t++){const i={...e,id:t+1,title:`${e.title} - ${t+1}`};_.addMovie({id:i.id,isQueued:!0,isWatched:!1,movieDetails:i})}})(),T()}();
//# sourceMappingURL=myLibrary.de6a6dea.js.map
