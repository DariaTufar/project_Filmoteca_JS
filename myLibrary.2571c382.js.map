{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,gDAQeC,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,mFACQ,EAAAC,EAAAC,c,4CADWC,MAAAC,KAAAC,U,gBAJnBC,KAAKC,OAAOC,iBAAiB,SAS7B,SAAuBC,GAErB,IADeA,EAAMC,OACTC,QAAQ,SAClB,QAEF,EAAAC,EAAAC,e,eAVajB,EAAIO,MAAAC,KAAAC,U,CADnBS,GCPApB,EAAAC,EAAA,S,aAAA,I,0EAQeoB,I,OAAAA,EAAflB,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAA8BS,G,IACtBC,EACAM,EAIAC,EAGwCC,EAAtCC,EAAWC,EAAUC,E,qEARvBX,EAASD,EAAMC,OACfM,EAAcN,EAAOC,QAAQ,kBACnB,C,uDAGVM,EAAKD,EAAYM,QAAQC,Q,SAGqBC,EAAAC,WAAWC,SAAS,CACtEC,OAAQC,EAAAC,KAAKC,IACbC,QAASd,I,OAFmCC,EAG5Cc,EAAAC,KAHMd,EAAsCD,EAAtCC,UAAWC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,aAK7BG,EAAAC,WAAWS,YAAc,CACvBP,OAAQC,EAAAC,KAAKC,IACbX,YACAC,WACAC,iBAIF,EAAAc,EAAAC,WAAUf,EAAc,CACtBgB,SAAUhB,EAAaJ,GACvBqB,QAAS,qCAEX,EAAA1B,EAAA2B,mB,6CA1B2BpC,MAAAC,KAAAC,U,CAF7BmC,EAAAlC,KAAKmC,QAAQjC,iBAAiB,S,SAEAC,G,OAAfM,EAAcZ,MAAAC,KAAAC,U","sources":["src/js/myLibrary/manageFilters.js","src/js/myLibrary/manageGallery.js"],"sourcesContent":["import { renderMovies } from './firebaseHelpers';\nimport { initGenres } from './genres';\nimport { refs } from './refs';\n\nrefs.filter.addEventListener('click', onFilterClick);\n\n// Initial render\ninit();\nasync function init() {\n  await initGenres();\n}\n\n// ====================\nfunction onFilterClick(event) {\n  const target = event.target;\n  if (!target.closest('input')) {\n    return;\n  }\n  renderMovies();\n}\n","import { openModal } from '../modalCardHelpers';\nimport { refs } from './refs';\nimport { dbFirebase } from './firebaseDB';\nimport { user } from './manageAuth';\nimport { updateBtnStatus } from './firebaseHelpers';\n\nrefs.gallery.addEventListener('click', onGalleryClick);\n\nasync function onGalleryClick(event) {\n  const target = event.target;\n  const movieCardEl = target.closest('.gallery__item');\n  if (!movieCardEl) {\n    return;\n  }\n  const id = movieCardEl.dataset.movieid;\n\n  //  ========= cache movie ===========\n  const { isWatched, isQueued, movieDetails } = await dbFirebase.getMovie({\n    userId: user.uid,\n    movieId: id,\n  });\n\n  dbFirebase.cachedMovie = {\n    userId: user.uid,\n    isWatched,\n    isQueued,\n    movieDetails,\n  };\n\n  // ========= open modal ===========\n  openModal(movieDetails, {\n    movie_id: movieDetails.id,\n    fotoUrl: 'https://image.tmdb.org/t/p/w500',\n  });\n  updateBtnStatus();\n}\n"],"names":["$bpxeT","parcelRequire","$27e79e578f2ea179$var$_init","$parcel$interopDefault","$2TvXO","mark","_callee","$66NcD","initGenres","apply","this","arguments","refs","filter","addEventListener","event","target","closest","$4lZAI","renderMovies","$27e79e578f2ea179$var$init","$20ef0f26d9cc471c$var$_onGalleryClick","movieCardEl","id","ref","isWatched","isQueued","movieDetails","dataset","movieid","$bPhZY","dbFirebase","getMovie","userId","$1g6CO","user","uid","movieId","_ctx","sent","cachedMovie","$9NMJY","openModal","movie_id","fotoUrl","updateBtnStatus","$3V0Mm","gallery"],"version":3,"file":"myLibrary.2571c382.js.map"}