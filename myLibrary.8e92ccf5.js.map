{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAoCC,EAAKC,GACrC,GAAIA,EAAkBC,IAAIF,GACtB,MAAM,IAAIG,UAAU,iE,uCCP5B,aACAT,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAA4BK,GACxB,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,EAAuBR,QAAQK,E,EAFlE,IAIgCJ,EAJ5BO,GAI4BP,EAJeQ,EAAA,WAK7BR,EAAIS,WAAaT,EAAM,CACjCD,QAASC,E,sCCXjB,aACAN,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA2BK,EAAKM,IACjB,MAAPA,GAAeA,EAAMN,EAAIO,UAAQD,EAAMN,EAAIO,QAC/C,IAAI,IAAIC,EAAI,EAAGC,EAAO,IAAIR,MAAMK,GAAME,EAAIF,EAAKE,IAAIC,EAAKD,GAAKR,EAAIQ,GACjE,OAAOC,C,uCCRX,aACAnB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA0Be,GACtB,GAAsB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOT,MAAMY,KAAKH,E,uCCNxH,aACApB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,WACI,MAAM,IAAII,UAAU,wI,uCCNxB,aACAT,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAAqCmB,EAAGC,GACpC,IAAKD,EAAG,OACR,GAAiB,iBAANA,EAAgB,OAAOE,EAAuBrB,QAAQmB,EAAGC,GACpE,IAAIE,EAAI3B,OAAO4B,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAG,GACzC,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MACvD,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhB,MAAMY,KAAKI,GAClD,GAAU,cAANA,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOD,EAAuBrB,QAAQmB,EAAGC,E,EAP1H,IASgCnB,EAT5BoB,GAS4BpB,EATeQ,EAAA,WAU7BR,EAAIS,WAAaT,EAAM,CACjCD,QAASC,E,IChBjB,IAAA6B,EAAArB,EAAA,S,kBCCAd,OAAOC,eAAemC,EAAS,aAAc,CACzChC,OAAO,IAEXgC,EAAQ/B,QAER,SAAuBgC,GACnB,IAAI,IAAInB,EAAI,EAAGA,EAAIoB,UAAUrB,OAAQC,IAAI,CACrC,IAAIqB,EAAyB,MAAhBD,UAAUpB,GAAaoB,UAAUpB,GAAK,GAC/CsB,EAAUxC,OAAOyC,KAAKF,GACkB,mBAAjCvC,OAAO0C,wBACdF,EAAUA,EAAQG,OAAO3C,OAAO0C,sBAAsBH,GAAQK,QAAO,SAASC,GAC1E,OAAO7C,OAAO8C,yBAAyBP,EAAQM,GAAKE,U,MAG5DP,EAAQQ,SAAQ,SAASC,GACrBC,EAAqB7C,QAAQgC,EAAQY,EAAKV,EAAOU,G,IAGzD,OAAOZ,C,EAdX,IAgBgC/B,EAhB5B4C,GAgB4B5C,EAhBaQ,EAAA,WAiB3BR,EAAIS,WAAaT,EAAM,CACjCD,QAASC,G,2CCvBjB6C,EAAArC,EAAA,S,KCCAd,OAAOC,eAAemD,EAAS,aAAc,CACzChD,OAAO,IAEXgD,EAAQ/C,QACR,SAAgCgD,EAAUC,EAAYC,GAClD,IAAKD,EAAW9C,IAAI6C,GAChB,MAAM,IAAI5C,UAAU,kDAExB,OAAO8C,C,WCRXvD,OAAOC,eAAeuD,EAAS,aAAc,CACzCpD,OAAO,IAEXoD,EAAQnD,QAER,SAAiCC,EAAKgD,GAClCG,EAAgCpD,QAAQC,EAAKgD,GAC7CA,EAAWI,IAAIpD,E,EAHnB,IAAImD,EAKJ,SAAgCnD,GAC5B,OAAOA,GAAOA,EAAIS,WAAaT,EAAM,CACjCD,QAASC,E,CAPgBqD,CAAuB7C,EAAA,U,qCCJxDd,OAAOC,eAAe2D,EAAS,aAAc,CACzCxD,OAAO,IAEXwD,EAAQvD,QAKR,SAA4BK,GACxB,OAAOmD,EAAwBxD,QAAQK,IAAQoD,EAAsBzD,QAAQK,IAAQqD,EAAiC1D,QAAQK,IAAQsD,EAAwB3D,S,EALlK,IAAIwD,EAAqBI,EAAuBnD,EAAA,UAC5CgD,EAAmBG,EAAuBnD,EAAA,UAC1CkD,EAAqBC,EAAuBnD,EAAA,UAC5CiD,EAA8BE,EAAuBnD,EAAA,UAIzD,SAASmD,EAAuB3D,GAC5B,OAAOA,GAAOA,EAAIS,WAAaT,EAAM,CACjCD,QAASC,E,KHkHf4D,EAAW,IAAAC,QAkBXC,EAAY,IAAAD,QAlJPE,EIAJ,W,sBJAUC,I,aAgIXC,EAAAf,EAAA,CAAAgB,KAAAN,GAkBAK,EAAAf,EAAA,CAAAgB,KAAAJ,GAjJAG,EAAAE,EAAA,CAAAD,KAAA,MAAM,S,iBAINvB,IAAA,W,MAAA,SAASyB,G,IAAEC,EAAFD,EAAEC,GAAIC,EAANF,EAAME,SAAUC,EAAhBH,EAAgBG,UAAWC,EAA3BJ,EAA2BI,aAElC,IAAKH,EACH,OAAO,KAIT,QAAkBI,IAAdF,QAAwCE,IAAbH,EAC7B,OAAO,UAIQG,IAAbH,EACFC,GAAaD,EAEbA,GAAYC,EAGd,IAAMG,EAAQ,CACZL,GAAIM,OAAON,GACXE,YACAD,WACAE,gBAGEI,EAAaX,EAAAnB,EAAA,CAAAoB,KAAMN,EAAAiB,GAAUrD,KAAhB0C,MAEZU,IACHA,EAAa,IAGf,IAAME,EAAaF,EAAWG,MAC5B,SAAAC,G,OAASL,OAAOK,EAAMX,MAAQM,OAAON,E,IAEvC,GAAKS,EAQHA,EAAWR,SAAWA,EACtBQ,EAAWP,UAAYA,EACnBC,IACFM,EAAWN,aAAeA,OAXb,CAEf,IAAKA,EACH,OAAO,KAETI,EAAWK,KAAKP,E,CAUlB,OAAKT,EAAAnB,EAAA,CAAAoB,KAAMJ,EAAAoB,GAAW1D,KAAjB0C,KAAkBU,GAGhBE,EAFE,I,IAOXnC,IAAA,c,MAAA,SAAYyB,G,IAAAC,EAAAD,EAAEC,GACNO,EAAaX,EAAAnB,EAAA,CAAAoB,KAAMN,EAAAiB,GAAUrD,KAAhB0C,MAEnB,IAAKU,EACH,OAAO,KAGT,IAAMO,EAAaP,EAAWQ,WAC5B,SAAAJ,G,OAASL,OAAOK,EAAMX,MAAQM,OAAON,E,IAEjCgB,EAAeT,EAAWU,OAAOH,EAAY,GACnD,OAAKlB,EAAAnB,EAAA,CAAAoB,KAAMJ,EAAAoB,GAAW1D,KAAjB0C,KAAkBU,GAGhBS,EAFE,I,IAOX1C,IAAA,W,MAAA,SAASyB,G,IAAAC,EAAAD,EAAEC,GACHO,EAAaX,EAAAnB,EAAA,CAAAoB,KAAMN,EAAAiB,GAAUrD,KAAhB0C,MAEnB,IAAKU,EACH,OAAO,KAGT,IAAMW,EAAQX,EAAWG,MAAK,SAAAC,G,OAASL,OAAOK,EAAMX,MAAQM,OAAON,E,IAEnE,OAAOkB,UAAS,I,IAKlB5C,IAAA,Y,MAAA,SAAUyB,G,IAAEG,EAAFH,EAAEG,UAAWD,EAAbF,EAAaE,SACjBkB,EAAS,GAEPZ,EAAaX,EAAAnB,EAAA,CAAAoB,KAAMN,EAAAiB,GAAUrD,KAAhB0C,MACnB,IAAKU,EACH,OAAOY,EAGT,QAAkBf,IAAdF,QAAwCE,IAAbH,EAC7B,OAAOM,EAGT,GAAIL,EAAW,CACb,IAAMgB,EAAQX,EAAWtC,QAAO,SAAA0C,G,OAASA,EAAMT,S,IAC3CgB,IACFC,EAAUvB,EAAAX,EAAD,CAAIkC,GAAAnD,OAAQ4B,EAAAX,EAAA,CAAGiC,I,CAI5B,GAAIjB,EAAU,CACZ,IAAMmB,EAAQb,EAAWtC,QAAO,SAAA0C,G,OAASA,EAAMV,Q,IAC3CmB,IACFD,EAAUvB,EAAAX,EAAD,CAAIkC,GAAAnD,OAAQ4B,EAAAX,EAAA,CAAGmC,I,CAM5B,OAAOD,C,OI3HR,GJgID,SAAAX,IACE,IAAIa,EAAUC,aAAaC,QAAQ1B,KAAK2B,KACxC,IAAKH,EACH,OAAO,KAET,IAEE,OADAA,EAAUI,KAAKC,MAAML,GAChBrF,MAAMC,QAAQoF,GAGZA,EAFE,I,CAGT,MAAOM,GACP,OAAO,I,EAMX,SAAAd,EAAae,GACX,IAEE,OADAN,aAAaO,QAAQhC,KAAK2B,IAAKC,KAAKK,UAAUF,KACvC,C,CACP,MAAOD,GACP,OAAO,C,MF9ITI,E,aAHEC,EAAa,IAAI,EAAAC,EAAAvG,SACjBwG,EAAU,IAAIxC,EAChByC,EAAS,GAGPC,EAAWC,SAASC,cAAc,yBAClCC,EAAYC,EAAAC,KAAKC,YACjBC,EAAUN,SAASC,cAAc,mB,SAIxBM,I,OAAAA,EAAfhD,EAAApC,EAAA,CAAAoC,EAAAiD,GAAAC,MAAA,SAAAC,I,yEAEEX,EAASY,iBAAiB,QAASC,GACnCV,EAAUS,iBAAiB,QAASE,GACpCP,EAAQK,iBAAiB,QAASG,G,kBAIjBnB,EAAWoB,Y,OAA1BjB,EAAMkB,EAAAC,K,wDAIRC,IACAC,I,0DAbiBC,MAAA5D,KAAAlC,U,CAkBnB,SAASsF,EAAcS,GACNA,EAAMhG,OACTiG,QAAQ,UAGpBH,G,CAIF,SAASN,EAAeQ,GACtB,IACME,EADSF,EAAMhG,OACMiG,QAAQ,kBAC9BC,GAgCP,SAAyB5D,GAEvB,IAAM6D,GAkBN9D,GAnBAgC,EAAeG,EAAQ4B,SAAS,CAAE9D,QACaG,aAmB/C4D,EAnB6D5B,EAkB3D6B,EAAFjE,EAAEiE,MAAOC,EAATlE,EAASkE,WAAYC,EAArBnE,EAAqBmE,aAAcC,EAAnCpE,EAAmCoE,WAAYC,EAA/CrE,EAA+CqE,eAAgBC,EAA/DtE,EAA+DsE,SAGhD,gEAG4DrG,OAF/CgG,EAAM,gGAGMhG,OADmCiG,EAAW,qDAEZjG,OADlCkG,EAAa,4FAEyBlG,OADJmG,EAAW,gGAEhBnG,OADSoG,EAAe,uFAMnEpG,OAL2C3C,OAC7D0I,EAAOzG,MACP,sEAG2BU,OAATqG,EAAS,6FAhBrC,IACEtE,EACAgE,EADEC,EAAOC,EAAYC,EAAcC,EAAYC,EAAgBC,EAjB/D1B,EAAQ2B,UAAYT,EACpBlB,EAAQ4B,UAAUxF,IAAI,S,CAhCtByF,CADWZ,EAAYa,QAAQC,Q,CAKjC,SAASvB,EAAaO,GACpB,IAAMhG,EAASgG,EAAMhG,OAEDA,EAAOiG,QAAQ,uBAGjChB,EAAQ4B,UAAUI,OAAO,UAEH,WAApBjH,EAAOkH,WAGL7C,EAAa7B,WACf6B,EAAa9B,UAAW,EACxB8B,EAAa7B,WAAY,IAEzB6B,EAAa9B,UAAW,EACxB8B,EAAa7B,WAAY,GAE3BgC,EAAQ2C,SAAS9C,GACjByB,I,CAaJ,SAASA,IACP,IACMsB,EADW,IAAIC,SAAS3C,GACD4C,IAAI,UAG3BC,EADiB/C,EAAQgD,UAAYtF,EAAAE,EAAA,IAACgF,GAAc,IACrBK,KAAI,SAAAC,G,OAAQA,EAAKjF,Y,IAChD0D,GAAS,EAAAwB,EAAAC,kBAAiBL,EAAe9C,GAAQoD,KAAK,IAC5DhD,EAAU+B,UAAYT,C,CA8BxB,SAASN,IAoBP,IAnBA,IAAMiC,EAAW,CACfC,OAAO,EACPC,cAAe,mCACf1F,GAAI,EACJgE,MAAO,aACP2B,kBAAmB,KACnBvB,eAAgB,aAChBC,SACE,oOACFuB,YAAa,mCACbC,WAAY,QACZC,UAAW,CAAC,GAAI,GAAI,KACpB3B,WAAY,QACZ4B,aAAc,aACdC,OAAO,EACP9B,aAAc,MACdD,WAAY,KAGL1H,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAM4D,EAAeP,EAAAnC,EAAA,IAChB+H,EAAQ,CACXxF,GAAIzD,EAAI,EACRyH,MAAO,GAAuBhG,OAApBwH,EAASxB,MAAM,OAAWhG,OAANzB,EAAI,KAEpC2F,EAAQ2C,SAAS,CACf7E,GAAIG,EAAaH,GACjBC,UAAU,EACVC,WAAW,EACXC,gB,cAzISyC,EAAIa,MAAA5D,KAAAlC,U,CAFnBsI,E","sources":["node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","src/js/myFilters.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/MyLibraryDB.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","<<jsx-config-pragma.js>>"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { markupMovieCards } from './markupMovieCards';\nimport ServerRequest from './serverRequest';\nimport { MyLibraryDB } from './MyLibraryDB';\nimport { refs } from './refs';\n\n// Variables\nconst requestAPI = new ServerRequest();\nconst myLibDB = new MyLibraryDB();\nlet genres = [];\nlet currentMovie;\n\nconst filterEl = document.querySelector('.js-filter-my-library');\nconst galleryEl = refs.galleryList;\nconst modalEl = document.querySelector('.js-movie-modal');\n\ninit();\n\nasync function init() {\n  // Bind events\n  filterEl.addEventListener('click', onFilterClick);\n  galleryEl.addEventListener('click', onGalleryClick);\n  modalEl.addEventListener('click', onModalClick);\n\n  // Download genres\n  try {\n    genres = await requestAPI.getGenres();\n  } catch (error) {}\n\n  // Initial render\n  writeTestDataToDB();\n  renderMovies();\n}\n\n// ====================\n\nfunction onFilterClick(event) {\n  const target = event.target;\n  if (!target.closest('input')) {\n    return;\n  }\n  renderMovies();\n}\n// ====================\n\nfunction onGalleryClick(event) {\n  const target = event.target;\n  const movieCardEl = target.closest('.gallery__item');\n  if (!movieCardEl) {\n    return;\n  }\n  const id = movieCardEl.dataset.movieid;\n  renderModalCard(id);\n}\n\n// ====================\nfunction onModalClick(event) {\n  const target = event.target;\n\n  const movieCardEl = target.closest('.modal_description');\n  if (!movieCardEl) {\n    // clicked outside card\n    modalEl.classList.remove('active');\n  }\n  if (target.nodeName === 'BUTTON') {\n    // add to queued or watched\n\n    if (currentMovie.isWatched) {\n      currentMovie.isQueued = true;\n      currentMovie.isWatched = false;\n    } else {\n      currentMovie.isQueued = false;\n      currentMovie.isWatched = true;\n    }\n    myLibDB.addMovie(currentMovie);\n    renderMovies();\n  }\n}\n\n// ====================\nfunction renderModalCard(id) {\n  currentMovie = myLibDB.getMovie({ id });\n  const markup = getModalCardMarkup(currentMovie.movieDetails, genres);\n  modalEl.innerHTML = markup;\n  modalEl.classList.add('active');\n}\n// ====================\n\nfunction renderMovies() {\n  const formData = new FormData(filterEl);\n  const filterValue = formData.get('filter');\n\n  const filteredMovies = myLibDB.getMovies({ [filterValue]: true });\n  const moviesDetails = filteredMovies.map(item => item.movieDetails);\n  const markup = markupMovieCards(moviesDetails, genres).join('');\n  galleryEl.innerHTML = markup;\n}\n\n// ************** TEMPORARY FUNCTIONS FOR TESTING *********************\nfunction getModalCardMarkup(\n  { title, vote_count, vote_average, popularity, original_title, overview },\n  genres\n) {\n  const markup = `<div class=\"modal_description\">\n    <h1 class=\"movie_title\">${title}</h1>\n    <ul>\n        <li class=\"movie_description\">Vote / Votes<span class=\"movie_vote\">${vote_count}</span>\n        <span class=\"movie_description\">${vote_average}</span></li>\n        <li class=\"movie_description\">Popularity<span class=\"movie_value\">${popularity}</span></li>\n        <li class=\"movie_description\">Original Title<span class=\"movie_value\">${original_title}</span></li>\n        <li class=\"movie_description\">Genre<span class=\"movie_value\">${Object(\n          genres.name\n        )}</span></li>\n    </ul>\n    <h2></h2>\n    <p class=\"about-text\">${overview}</p>\n\n    <button>ADD TO WATCHED</button>\n    <button>ADD TO QUEUE</button>\n  </div>`;\n\n  return markup;\n}\n\n// ===========\nfunction writeTestDataToDB() {\n  const template = {\n    adult: false,\n    backdrop_path: '/bQXAqRx2Fgc46uCVWgoPz5L5Dtr.jpg',\n    id: 1,\n    title: 'Black Adam',\n    original_language: 'en',\n    original_title: 'Black Adam',\n    overview:\n      'Nearly 5,000 years after he was bestowed with the almighty powers of the Egyptian gods—and imprisoned just as quickly—Black Adam is freed from his earthly tomb, ready to unleash his unique form of justice on the modern world.',\n    poster_path: '/3zXceNTtyj5FLjwQXuPvLYK5YYL.jpg',\n    media_type: 'movie',\n    genre_ids: [28, 14, 878],\n    popularity: 4085.77,\n    release_date: '2022-10-19',\n    video: false,\n    vote_average: 6.937,\n    vote_count: 803,\n  };\n\n  for (let i = 0; i < 6; i++) {\n    const movieDetails = {\n      ...template,\n      id: i + 1,\n      title: `${template.title} - ${i + 1}`,\n    };\n    myLibDB.addMovie({\n      id: movieDetails.id,\n      isQueued: true,\n      isWatched: false,\n      movieDetails,\n    });\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export class MyLibraryDB {\n  KEY = 'movies';\n\n  // =====================\n\n  addMovie({ id, isQueued, isWatched, movieDetails }) {\n    // id is required\n    if (!id) {\n      return null;\n    }\n\n    // one of flags isWatched or isQueued is required\n    if (isWatched === undefined && isQueued === undefined) {\n      return null;\n    }\n\n    // flag isQueued is foreground\n    if (isQueued !== undefined) {\n      isWatched = !isQueued;\n    } else {\n      isQueued = !isWatched;\n    }\n\n    const movie = {\n      id: String(id),\n      isWatched,\n      isQueued,\n      movieDetails,\n    };\n\n    let moviesList = this.#getLibData();\n\n    if (!moviesList) {\n      moviesList = [];\n    }\n\n    const foundMovie = moviesList.find(\n      movie => String(movie.id) === String(id)\n    );\n    if (!foundMovie) {\n      // Movie not found\n      if (!movieDetails) {\n        return null;\n      }\n      moviesList.push(movie);\n    } else {\n      // Movie found\n      foundMovie.isQueued = isQueued;\n      foundMovie.isWatched = isWatched;\n      if (movieDetails) {\n        foundMovie.movieDetails = movieDetails;\n      }\n    }\n\n    if (!this.#saveLibData(moviesList)) {\n      return null;\n    }\n    return foundMovie;\n  }\n\n  // =====================\n\n  removeMovie({ id }) {\n    const moviesList = this.#getLibData();\n\n    if (!moviesList) {\n      return null;\n    }\n\n    const foundIndex = moviesList.findIndex(\n      movie => String(movie.id) === String(id)\n    );\n    const removedMovie = moviesList.splice(foundIndex, 1);\n    if (!this.#saveLibData(moviesList)) {\n      return null;\n    }\n    return removedMovie;\n  }\n\n  // =====================\n\n  getMovie({ id }) {\n    const moviesList = this.#getLibData();\n\n    if (!moviesList) {\n      return null;\n    }\n\n    const found = moviesList.find(movie => String(movie.id) === String(id));\n\n    return found ?? null;\n  }\n\n  // =====================\n\n  getMovies({ isWatched, isQueued }) {\n    let result = [];\n\n    const moviesList = this.#getLibData();\n    if (!moviesList) {\n      return result;\n    }\n\n    if (isWatched === undefined && isQueued === undefined) {\n      return moviesList;\n    }\n\n    if (isWatched) {\n      const found = moviesList.filter(movie => movie.isWatched);\n      if (found) {\n        result = [...result, ...found];\n      }\n    }\n\n    if (isQueued) {\n      const found = moviesList.filter(movie => movie.isQueued);\n      if (found) {\n        result = [...result, ...found];\n      }\n    }\n\n    // TODO: delete double id\n\n    return result;\n  }\n\n  // =====================\n\n  #getLibData() {\n    let storage = localStorage.getItem(this.KEY);\n    if (!storage) {\n      return null;\n    }\n    try {\n      storage = JSON.parse(storage);\n      if (!Array.isArray(storage)) {\n        return null;\n      }\n      return storage;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  // =====================\n\n  #saveLibData(data) {\n    try {\n      localStorage.setItem(this.KEY, JSON.stringify(data));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n",null],"names":["Object","defineProperty","module","exports","value","default","obj","privateCollection","has","TypeError","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$bpxeT","$9eddae5a012cde57$exports","target","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","$9eddae5a012cde57$var$_defineProperty","$8MBJY","$82ce8d6f4ce6ea51$exports","receiver","privateSet","fn","$b5362597a15e80da$exports","$b5362597a15e80da$var$_checkPrivateRedeclaration","add","$b5362597a15e80da$var$_interopRequireDefault","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$e9daafb2f91030f7$var$_getLibData","WeakSet","$e9daafb2f91030f7$var$_saveLibData","$e9daafb2f91030f7$export$5bd45b97345cdec0","MyLibraryDB","$parcel$interopDefault","this","$hKHmD","param","id","isQueued","isWatched","movieDetails","undefined","movie1","String","moviesList","$e9daafb2f91030f7$var$getLibData","foundMovie","find","movie","push","$e9daafb2f91030f7$var$saveLibData","foundIndex","findIndex","removedMovie","splice","found","result","found1","storage","localStorage","getItem","KEY","JSON","parse","error","data","setItem","stringify","$aa753b09e6eb7db5$var$currentMovie","$aa753b09e6eb7db5$var$requestAPI","$6XhEX","$aa753b09e6eb7db5$var$myLibDB","$aa753b09e6eb7db5$var$genres","$aa753b09e6eb7db5$var$filterEl","document","querySelector","$aa753b09e6eb7db5$var$galleryEl","$4Nugj","refs","galleryList","$aa753b09e6eb7db5$var$modalEl","$aa753b09e6eb7db5$var$_init","$2TvXO","mark","_callee","addEventListener","$aa753b09e6eb7db5$var$onFilterClick","$aa753b09e6eb7db5$var$onGalleryClick","$aa753b09e6eb7db5$var$onModalClick","getGenres","_ctx","sent","$aa753b09e6eb7db5$var$writeTestDataToDB","$aa753b09e6eb7db5$var$renderMovies","apply","event","closest","movieCardEl","markup","getMovie","genres1","title","vote_count","vote_average","popularity","original_title","overview","innerHTML","classList","$aa753b09e6eb7db5$var$renderModalCard","dataset","movieid","remove","nodeName","addMovie","filterValue","FormData","get","moviesDetails","getMovies","map","item","$chgrN","markupMovieCards","join","template","adult","backdrop_path","original_language","poster_path","media_type","genre_ids","release_date","video","$aa753b09e6eb7db5$var$init"],"version":3,"file":"myLibrary.8e92ccf5.js.map"}