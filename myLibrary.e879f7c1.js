!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r),r.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r.register("jdVyQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}})),r.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return i.default(e)};var n,i=(n=r("8NIkP"))&&n.__esModule?n:{default:n}})),r.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}})),r.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),r.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),r.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return i.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i.default(e,t)};var n,i=(n=r("8NIkP"))&&n.__esModule?n:{default:n}}));var a=r("bpxeT"),o=r("2TvXO"),u=r("hKHmD"),s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c.default(e,t,n[t])}))}return e};var l,c=(l=r("hKHmD"))&&l.__esModule?l:{default:l};var d=r("chgrN"),f=r("8MBJY"),v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e,t){var n=p.default(e,t,"get");return h.default(e,n)};var p=m(r("1UHsN")),h=m(r("ffZzF"));function m(e){return e&&e.__esModule?e:{default:e}}var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t,n){_.default(e,t),t.set(e,n)};var _=function(e){return e&&e.__esModule?e:{default:e}}(r("5k7tO"));var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,n){var i=g.default(e,t,"set");return M.default(e,i,n),n};var g=j(r("1UHsN")),M=j(r("jdVyQ"));function j(e){return e&&e.__esModule?e:{default:e}}var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e,t){k.default(e,t),t.add(e)};var k=function(e){return e&&e.__esModule?e:{default:e}}(r("5k7tO"));var x=r("a2hTj"),S=(u=r("hKHmD"),{});Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(e){return Q.default(e)||W.default(e)||T.default(e)||D.default()};var P,Q=E(r("kMC0W")),W=E(r("7AJDX")),D=E(r("8CtQK")),T=E(r("auk6i"));function E(e){return e&&e.__esModule?e:{default:e}}var A=new WeakMap,L=new WeakSet,N=new WeakSet;function q(){var e=localStorage.getItem(this.KEY);if(!e)return null;try{return e=JSON.parse(e),Array.isArray(e)?e:null}catch(e){return null}}function C(e){try{return localStorage.setItem(this.KEY,JSON.stringify(e)),!0}catch(e){return!1}}P=new(function(){"use strict";function t(){e(f)(this,t),e(O)(this,L),e(O)(this,N),e(u)(this,"KEY","movies"),e(y)(this,A,{writable:!0,value:void 0})}return e(x)(t,[{key:"cachedMovie",get:function(){return e(v)(this,A)},set:function(t){var n=this.getMovie({id:t.id});e(b)(this,A,{id:String(t.id),isWatched:!1,isQueued:!1,movieDetails:t}),n&&(e(v)(this,A).isQueued=n.isQueued,e(v)(this,A).isWatched=n.isWatched)}},{key:"addMovie",value:function(t){var n=t.id,i=t.isQueued,r=t.isWatched,a=t.movieDetails;if(!n)return null;if(void 0===r&&void 0===i)return null;void 0!==i?r=!i:i=!r;var o={id:String(n),isWatched:r,isQueued:i,movieDetails:a},u=e(w)(this,L,q).call(this);u||(u=[]);var s=u.find((function(e){return String(e.id)===String(n)}));if(s)s.isQueued=i,s.isWatched=r,a&&(s.movieDetails=a);else{if(!a)return null;u.push(o)}return e(w)(this,N,C).call(this,u)?s:null}},{key:"removeMovie",value:function(t){var n=t.id,i=e(w)(this,L,q).call(this);if(!i)return null;var r=i.findIndex((function(e){return String(e.id)===String(n)})),a=i.splice(r,1);return e(w)(this,N,C).call(this,i)?a:null}},{key:"getMovie",value:function(t){var n=t.id,i=e(w)(this,L,q).call(this);if(!i)return null;var r=i.find((function(e){return String(e.id)===String(n)}));return null!=r?r:null}},{key:"getMovies",value:function(t){var n=t.isWatched,i=t.isQueued,r=[],a=e(w)(this,L,q).call(this);if(!a)return r;if(void 0===n&&void 0===i)return a;if(n){var o=a.filter((function(e){return e.isWatched}));o&&(r=e(S)(r).concat(e(S)(o)))}if(i){var u=a.filter((function(e){return e.isQueued}));u&&(r=e(S)(r).concat(e(S)(u)))}return r}}]),t}());a=r("bpxeT"),o=r("2TvXO");var I=r("6XhEX"),K=[];function X(){return H.apply(this,arguments)}function H(){return(H=e(a)(e(o).mark((function t(){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(0,I.default),e.prev=1,e.next=4,n.getGenres();case 4:K=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}var F={filter:document.querySelector(".js-filter-my-library"),gallery:document.querySelector(".gallery_main-page"),modal:document.querySelector(".js-movie-modal")};function Y(){var t=new FormData(F.filter).get("filter"),n=P.getMovies(e(u)({},t,!0)).map((function(e){return e.movieDetails})),i=(0,d.markupMovieCards)(n,K).join("");F.gallery.innerHTML=i}function U(e){P.cachedMovie=P.getMovie({id:e}).movieDetails;var t,n,i,r,a,o,u,s=(t=P.cachedMovie.movieDetails,n=t.title,i=t.vote_count,r=t.vote_average,a=t.popularity,o=t.original_title,u=t.overview,'<div class="modal_description">\n    <h1 class="movie_title">'.concat(n,'</h1>\n    <ul>\n        <li class="movie_description">Vote / Votes<span class="movie_vote">').concat(i,'</span>\n        <span class="movie_description">').concat(r,'</span></li>\n        <li class="movie_description">Popularity<span class="movie_value">').concat(a,'</span></li>\n        <li class="movie_description">Original Title<span class="movie_value">').concat(o,'</span></li>\n        <li class="movie_description">Genre<span class="movie_value">').concat(K.name,'</span></li>\n    </ul>\n    <h2></h2>\n    <p class="about-text">').concat(u,'</p>\n\n    <form class="js-movie-buttons movie-buttons">\n        <label class="movie-buttons__label">\n          <input class="movie-buttons__input" type="radio" name="status" value="isWatched" />\n          <span class="movie-buttons__text button">Watched</span>\n        </label>\n\n        <label class="movie-buttons__label">\n          <input class="movie-buttons__input" type="radio" name="status" value="isQueued" />\n          <span class="movie-buttons__text button"\n            >Queued</span\n          >\n        </label>\n        <button type="button" class="js-remove-button button ">Remove</button>\n        </form>\n  </div>'));F.modal.innerHTML=s,z(),F.modal.classList.add("active")}function z(){var e=document.querySelector('.js-movie-buttons input[value="isQueued"]'),t=document.querySelector('.js-movie-buttons input[value="isWatched"]'),n=document.querySelector(".js-remove-button");e.checked=P.cachedMovie.isQueued,t.checked=P.cachedMovie.isWatched,P.cachedMovie.isWatched||P.cachedMovie.isQueued?n.style.display="inline-block":n.style.display="none"}function J(){for(var t={adult:!1,backdrop_path:"/bQXAqRx2Fgc46uCVWgoPz5L5Dtr.jpg",id:1,title:"Black Adam",original_language:"en",original_title:"Black Adam",overview:"Nearly 5,000 years after he was bestowed with the almighty powers of the Egyptian gods—and imprisoned just as quickly—Black Adam is freed from his earthly tomb, ready to unleash his unique form of justice on the modern world.",poster_path:"/3zXceNTtyj5FLjwQXuPvLYK5YYL.jpg",media_type:"movie",genre_ids:[28,14,878],popularity:4085.77,release_date:"2022-10-19",video:!1,vote_average:6.937,vote_count:803},n=0;n<6;n++){var i=e(s)({},t,{id:n+1,title:"".concat(t.title," - ").concat(n+1)});P.addMovie({id:i.id,isQueued:!0,isWatched:!1,movieDetails:i})}}function V(){return(V=e(a)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:J(),Y();case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}F.filter.addEventListener("click",(function(e){if(!e.target.closest("input"))return;Y()})),function(){V.apply(this,arguments)}(),F.gallery.addEventListener("click",(function(e){var t=e.target.closest(".gallery__item");if(!t)return;U(t.dataset.movieid)})),F.modal.addEventListener("click",(function(e){var t=e.target;t.closest(".modal_description")||F.modal.classList.remove("active");if(t.closest(".js-movie-buttons")&&t.closest("input")){var n=t.closest(".js-movie-buttons"),i=new FormData(n).get("status");"isWatched"===i?(P.cachedMovie.isQueued=!1,P.cachedMovie.isWatched=!0):"isQueued"===i&&(P.cachedMovie.isQueued=!0,P.cachedMovie.isWatched=!1),P.addMovie(P.cachedMovie),Y()}t.classList.contains("js-remove-button")&&(P.removeMovie({id:P.cachedMovie.id}),P.cachedMovie.isQueued=!1,P.cachedMovie.isWatched=!1,Y());z()})),r("kvep9"),r("i8Q71")}();
//# sourceMappingURL=myLibrary.e879f7c1.js.map
